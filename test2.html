<html>
<head>
    <script type="text/javascript" src="./lib/vexflow.js"></script>
    <script type="text/javascript">
    // vexflow
    const { Factory, StaveNote, Accidental, Annotation } = Vex.Flow;

    window.onload = function() {
        document.getElementById("output").innerHTML = "";
        
        const vf = new Factory({
            renderer: { elementId: 'output', width: 500, height: 150 },
        });

        const score = vf.EasyScore();
        const system = vf.System();

        var notes = [];

        [0,1,2,3].forEach(el => {

            var annotation = new Annotation("test");
            annotation.setVerticalJustification(Annotation.VerticalJustify.BOTTOM);

            stemdir = StaveNote.STEM_UP;

            var note = new StaveNote({ keys: ["Eb/4"], duration: "4"});
            note.addModifier(annotation);
            note.addModifier(new Accidental("b"));

            notes.push(note);
        });
        
        score.set({ time: notes.length + "/4" });
        
        system
            .addStave({
            voices: [
                score.voice(notes)
            ]})
            .addClef('treble');

        vf.draw();

    };
    </script>
</head>
<body>
    <div id="output"></div>
</body>
</html>